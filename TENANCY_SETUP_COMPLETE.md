# ูุธุงู ุชุนุฏุฏ ุงููุณุชุฃุฌุฑูู - ููุฎุต ุงูุชุซุจูุช

## โ ุชู ุงูุชุซุจูุช ุจูุฌุงุญ!

ุชู ุชุซุจูุช ูุชูููู ูุธุงู ุชุนุฏุฏ ุงููุณุชุฃุฌุฑูู (Multi-Tenancy) ูู SmartClinic API ุจูุฌุงุญ.

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### 1. ุชุดุบูู ุงูุชุฑุญููุงุช ุงููุฑูุฒูุฉ

```bash
php artisan migrate
```

ูุฐุง ุณููุดุฆ ุฌุฏุงูู `tenants` ู `domains` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฑูุฒูุฉ.

### 2. ุฅูุดุงุก ุฃูู ุนูุงุฏุฉ (ุงุฎุชุฑ ุทุฑููุฉ ูุงุญุฏุฉ)

**ุงูุทุฑููุฉ 1: ุนุจุฑ API**

```bash
curl -X POST http://localhost/api/tenants \
  -H "Content-Type: application/json" \
  -d '{"name": "ุนูุงุฏุฉ ุงูุฃูู", "address": "ุจุบุฏุงุฏ"}'
```

**ุงูุทุฑููุฉ 2: ุนุจุฑ Tinker**

```bash
php artisan tinker

$tenant = App\Models\Tenant::create([
    'id' => 'clinic_amal',
    'name' => 'ุนูุงุฏุฉ ุงูุฃูู',
    'address' => 'ุจุบุฏุงุฏ - ุงููุฑุงุฏุฉ'
]);
```

### 3. ุงุฎุชุจุงุฑ ุงููุธุงู

```bash
# ุฌูุจ ูุงุฆูุฉ ุงูุนูุงุฏุงุช
curl http://localhost/api/tenants

# ุชุณุฌูู ุฏุฎูู ูู ุนูุงุฏุฉ
curl -X POST http://localhost/api/tenant/auth/login \
  -H "Content-Type: application/json" \
  -H "X-Tenant-ID: clinic_amal" \
  -d '{"email": "doctor@clinic.com", "password": "password"}'
```

---

## ๐ ุงููููุงุช ุงููููุฉ

| ุงูููู                             | ุงูุบุฑุถ                         |
| --------------------------------- | ----------------------------- |
| `docs/TENANCY_GUIDE_AR.md`        | **ุงูุฏููู ุงูุดุงูู ุจุงูุนุฑุจูุฉ**    |
| `docs/TENANCY_QUICK_REFERENCE.md` | ุงููุฑุฌุน ุงูุณุฑูุน                 |
| `config/tenancy.php`              | ุฅุนุฏุงุฏุงุช ุงููุธุงู                |
| `routes/tenant.php`               | ูุณุงุฑุงุช API ุงูุนูุงุฏุงุช           |
| `database/migrations/tenant/`     | ุชุฑุญููุงุช ููุงุนุฏ ุจูุงูุงุช ุงูุนูุงุฏุงุช |

---

## ๐ ุงูููุงุท ุงูุฃุณุงุณูุฉ

### ููููุฉ ุชุญุฏูุฏ ุงูุนูุงุฏุฉ ูู ุงูุทูุจุงุช

ุฌููุน ุทูุจุงุช API ุงูุฎุงุตุฉ ุจุงูุนูุงุฏุงุช ุชุญุชุงุฌ ุฅูู Header:

```http
X-Tenant-ID: clinic_xxx
```

### ูุณุงุฑุงุช API

| ุงูููุน     | ุงููุณุงุฑ          | ุงูุงุณุชุฎุฏุงู      |
| --------- | --------------- | -------------- |
| **ูุฑูุฒู** | `/api/tenants`  | ุฅุฏุงุฑุฉ ุงูุนูุงุฏุงุช |
| **ุนูุงุฏุฉ** | `/api/tenant/*` | ุนูููุงุช ุงูุนูุงุฏุฉ |

### ูุซุงู ูุงูู

```javascript
// 1. ุฅูุดุงุก ุนูุงุฏุฉ (ูุฑูุฒู - ุจุฏูู X-Tenant-ID)
POST /api/tenants
{"name": "ุนูุงุฏุฉ ุงูุฃูู"}

// 2. ุชุณุฌูู ุฏุฎูู (ุนูุงุฏุฉ - ูุน X-Tenant-ID)
POST /api/tenant/auth/login
Headers: X-Tenant-ID: clinic_xxx
{"email": "doctor@clinic.com", "password": "pass"}

// 3. ุฌูุจ ุงููุฑุถู (ุนูุงุฏุฉ - ูุน X-Tenant-ID + Token)
GET /api/tenant/patients
Headers:
  X-Tenant-ID: clinic_xxx
  Authorization: Bearer {token}
```

---

## โ๏ธ ุฃูุงูุฑ ูููุฏุฉ

```bash
# ุชุฑุญููุงุช ุฌููุน ุงูุนูุงุฏุงุช
php artisan tenants:migrate

# ุจุฐูุฑ ุฌููุน ุงูุนูุงุฏุงุช
php artisan tenants:seed

# ูุงุฆูุฉ ุงูุนูุงุฏุงุช
php artisan tenants:list

# ุชูุธูู ุงููุงุด
php artisan config:clear && php artisan cache:clear
```

---

## ๐ฏ ุงูุฎุทูุงุช ุงููุงุฏูุฉ ุงูููุชุฑุญุฉ

1. โ ุชุดุบูู `php artisan migrate`
2. โ ุฅูุดุงุก ุฃูู ุนูุงุฏุฉ
3. โ ุชุณุฌูู ุฃูู ุทุจูุจ ูู ุงูุนูุงุฏุฉ
4. โ ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ูุฑูุถ
5. โ ุงุฎุชุจุงุฑ ุฅูุดุงุก ุญุงูุฉ

---

## ๐ ุงููุซุงุฆู ุงููุงููุฉ

ููุชูุงุตูู ุงููุงููุฉุ ุฑุงุฌุน: **`docs/TENANCY_GUIDE_AR.md`**

---

## ๐ง ููุงุญุธุงุช ูููุฉ

- ูู ุนูุงุฏุฉ ุชุญุตู ุนูู **ูุงุนุฏุฉ ุจูุงูุงุช ูููุตูุฉ**
- ุงูุจูุงูุงุช **ูุนุฒููุฉ ุชูุงูุงู** ุจูู ุงูุนูุงุฏุงุช
- ุงูู Token **ุฎุงุต ุจุนูุงุฏุฉ ูุงุญุฏุฉ ููุท**
- ุญุฐู ุนูุงุฏุฉ **ูุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช** ุงูุฎุงุตุฉ ุจูุง

---

## โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

- โ ุนุฒู ูุงูู ููุจูุงูุงุช ุจูู ุงูุนูุงุฏุงุช
- โ ุฅูุดุงุก ุชููุงุฆู ููุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุชุดุบูู ุชููุงุฆู ููุชุฑุญููุงุช ูุงูุจุฐูุฑ
- โ API ุจุณูุท ููุงุถุญ
- โ ุฏุนู ูุชุนุฏุฏ ุงูุนูุงุฏุงุช ูู ููุณ ุงูุทูุจ
- โ ูุซุงุฆู ุดุงููุฉ ุจุงูุนุฑุจูุฉ

---

## ๐ก ูุตุงุฆุญ

1. ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฑูุฒูุฉ
2. ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุฃูุฏ ูู ุตูุงุญูุงุช MySQL ูุฅูุดุงุก ููุงุนุฏ ุจูุงูุงุช ุฌุฏูุฏุฉ
4. ุงุฎุชุจุฑ ุนูู ุจูุฆุฉ ุชุทููุฑ ุฃููุงู

---

**ุชู ุงูุชุซุจูุช ุจูุฌุงุญ! ุงุณุชูุชุน ุจุงุณุชุฎุฏุงู ูุธุงู ุชุนุฏุฏ ุงููุณุชุฃุฌุฑูู ๐**
